<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barber Pro | Estilo & Tradição</title>
    
    <!-- Google Fonts & FontAwesome -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <a href="https://wa.me/5511999999999" class="whatsapp-float" target="_blank" title="Fale conosco no WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <header class="hero">
        <!-- Fundo com imagem borrada -->
        <div class="hero-background"></div>
        <div class="hero-overlay"></div>
        
        <nav>
            <div class="logo">BARBER<span>PRO</span></div>
        </nav>
        <div class="hero-content">
            <h1>EXPERTISE & ESTILO</h1>
            <button class="btn-primary" onclick="toggleModal(true)">AGENDAR AGORA</button>
            
            <div class="hero-socials">
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-facebook"></i></a>
            </div>
        </div>
    </header>

    <!-- Modal de Agendamento -->
    <div class="modal-overlay" id="bookingModal">
        <div class="modal-content">
            <span class="close-btn" onclick="toggleModal(false)">&times;</span>
            <div class="booking-form">
                <h2>Reservar Horário</h2>
                <form id="formAgendamento">
                    <div class="input-group">
                        <label>Nome Completo</label>
                        <input type="text" id="clientName" placeholder="Como deseja ser chamado?" required>
                    </div>

                    <!-- CAMPO DE TELEFONE ADICIONADO -->
                    <div class="input-group">
                        <label>Telefone para Contato</label>
                        <input type="tel" id="clientPhone" placeholder="(11) 99999-9999" required>
                        <small style="display: block; margin-top: 8px; color: var(--text-muted); font-size: 0.8rem;">
                            Número com WhatsApp preferencialmente
                        </small>
                    </div>

                    <div class="input-group">
                        <label>Serviço</label>
                        <select id="serviceType">
                            <option value="Corte Degradê">Corte Degradê - R$ 50</option>
                            <option value="Barba Premium">Barba Premium - R$ 40</option>
                            <option value="Combo Pro">Combo Pro - R$ 80</option>
                        </select>
                    </div>

                    <!-- SELEÇÃO DE BARBEIRO -->
                    <div class="input-group">
                        <label>Barbeiro Especialista</label>
                        <div class="selection-grid" style="grid-template-columns: repeat(3, 1fr);" id="barberSelection">
                            <div class="selection-option">
                                <input type="radio" name="barber" value="Marcio" id="b1" checked>
                                <label for="b1">Marcio</label>
                            </div>
                            <div class="selection-option">
                                <input type="radio" name="barber" value="Rodrigo" id="b2">
                                <label for="b2">Rodrigo</label>
                            </div>
                            <div class="selection-option">
                                <input type="radio" name="barber" value="Vitor" id="b3">
                                <label for="b3">Vitor</label>
                            </div>
                        </div>
                        <small id="barberStatus" style="display: block; margin-top: 8px; color: var(--text-muted); font-size: 0.8rem;">
                            Selecione um barbeiro para ver os horários disponíveis
                        </small>
                    </div>

                    <div class="input-group">
                        <label>Data do Atendimento</label>
                        <div class="custom-selection-grid" id="dateSlotsContainer"></div>
                        <input type="hidden" id="selectedDate" required>
                    </div>

                    <div class="input-group">
                        <label>Horário Disponível</label>
                        <div class="selection-grid" id="timeSlotsContainer"></div>
                        <input type="hidden" id="selectedTime" required>
                        <small id="timeSlotsInfo" style="display: block; margin-top: 8px; color: var(--text-muted); font-size: 0.8rem;">
                            Horários em verde estão disponíveis
                        </small>
                    </div>

                    <button type="submit" class="btn-primary" style="width: 100%;" id="submitBtn">Confirmar Reserva</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação -->
    <div class="modal-overlay" id="confirmationModal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="booking-form">
                <h2 style="color: #25d366;">✅ Reserva Concluída!</h2>
                <div id="confirmationDetails" style="text-align: left; margin: 30px 0;">
                    <!-- Detalhes serão preenchidos via JS -->
                </div>
                <p style="color: var(--text-muted); margin-bottom: 20px;">
                    <i class="fas fa-bell" style="color: var(--gold); margin-right: 10px;"></i>
                    Você receberá um lembrete 15 minutos antes do horário agendado.
                </p>
                <button onclick="toggleConfirmationModal(false)" class="btn-primary" style="width: 100%;">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Galeria -->
    <section class="section">
        <h2 style="margin-bottom: 40px; text-transform: uppercase;">Nossa <span>Barbearia</span></h2>
        <div class="gallery-grid">
            <div class="gallery-item" style="background-image: url('https://images.unsplash.com/photo-1503951914875-452162b0f3f1?q=80&w=800')"></div>
            <div class="gallery-item" style="background-image: url('https://images.unsplash.com/photo-1585747860715-2ba37e788b70?q=80&w=800')"></div>
        </div>
    </section>

    <!-- Rodapé -->
    <footer class="contact-section">
        <div class="contact-info">
            <h2>Contato</h2>
            <div class="info-item">
                <i class="fas fa-map-marker-alt"></i>
                <p>Av. das Barbearias, 1000 - Centro, São Paulo - SP</p>
            </div>
            <div class="info-item">
                <i class="fas fa-phone"></i>
                <p>(11) 99999-8888</p>
            </div>
            <div class="info-item">
                <i class="fas fa-clock"></i>
                <p>Seg - Sáb: 09h às 20h</p>
            </div>
            <div class="social-links" style="margin-top: 30px;">
                <a href="#" style="color: white; font-size: 1.5rem; margin-right: 20px;"><i class="fab fa-instagram"></i></a>
                <a href="#" style="color: white; font-size: 1.5rem;"><i class="fab fa-facebook"></i></a>
            </div>
        </div>
        <div class="map-box">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3657.197!2d-46.658!3d-23.561!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMjPCsDMzJzM5LjYiUyA0NsKwMzknMjguOCJX!5e0!3m2!1spt-BR!2sbr!4v1650000000000" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </footer>

    <!-- Firebase -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    
    <!-- JavaScript -->
    <script type="module" src="script.js"></script>
</body>
</html>
